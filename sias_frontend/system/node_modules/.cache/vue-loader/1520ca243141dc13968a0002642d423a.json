{"remainingRequest":"/home/ikhsan/folder/contoh/sias_frontend/system/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ikhsan/folder/contoh/sias_frontend/system/src/views/Home.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/ikhsan/folder/contoh/sias_frontend/system/src/views/Home.vue","mtime":1613066079804},{"path":"/home/ikhsan/folder/contoh/sias_frontend/system/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ikhsan/folder/contoh/sias_frontend/system/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/ikhsan/folder/contoh/sias_frontend/system/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/ikhsan/folder/contoh/sias_frontend/system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ikhsan/folder/contoh/sias_frontend/system/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnYtY2FyZC0tcmV2ZWFsIHsKICBib3R0b206IDA7CiAgb3BhY2l0eTogMSAhaW1wb3J0YW50OwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB3aWR0aDogMTAwJTsKfQoudi1tYXJnaW4tYm90dG9tIHsKICBtYXJnaW4tYm90dG9tOiAyMHB4Owp9Ci5tYS0yIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KI2x1cGEtcGFzc3dvcmQgewogIGNvbG9yOiBibGFjazsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgbWFyZ2luLXRvcDogMzJweDsKfQouaGVtIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgbWFyZ2luLXRvcDogMzJweDsKfQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-app>\n    <v-container>\n      <v-row justify=\"center\">\n        <v-layout style=\"margin-top: 50px\">\n          <v-flex>\n            <v-card max-width=\"400\" :elevation=\"6\" class=\"mx-auto my-12\">\n              <v-col md=\"12\">\n                <v-card-title class=\"justify-center\">\n                  <p>Sistem Academy Sekolah</p>\n                </v-card-title>\n                <v-row justify=\"center\">\n                  <v-col md=\"12\">\n                    <v-text-field\n                      label=\"NIS/NIK\"\n                      single-line\n                      outlined\n                      v-model=\"username\"\n                    ></v-text-field>\n                    <v-text-field\n                      label=\"Password\"\n                      v-model=\"password\"\n                      :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\"\n                      :type=\"show1 ? 'text' : 'password'\"\n                      single-line\n                      outlined\n                      @click:append=\"show1 = !show1\"\n                    ></v-text-field>\n                  </v-col>\n                </v-row>\n                <v-col>\n                  <v-btn\n                    rounded\n                    elevation=\"2\"\n                    color=\"#54a9f6\"\n                    class=\"ma-2 white--text\"\n                    block\n                    @click=\"login\"\n                    >login</v-btn\n                  >\n                  <!-- <p class=\"hem\">ATAU</p>\n                <h3 id=\"lupa-password\">\n                  <a href=\"/google\" style=\"text-decoration: none\"\n                    >Masuk Dengan Google</a>\n                  </h3>-->\n                  <h4 id=\"lupa-password\">\n                    <a href=\"/lupapassword\" style=\"text-decoration: none\"\n                      >Lupa Password?</a\n                    >\n                  </h4>\n                </v-col>\n              </v-col>\n            </v-card>\n          </v-flex>\n        </v-layout>\n      </v-row>\n    </v-container>\n  </v-app>\n</template>\n\n\n<script>\nimport axios from \"axios\";\n// import Navbarr from \"../components/Navbarr.vue\"\nexport default {\n  // components:{\n  //   // Navbarr\n  // },\n  data() {\n    return {\n      username: \"\",\n      data: \"\",\n      show1: false,\n      password: \"\",\n      rules: {\n        required: (value) => !!value || \"Required.\",\n      },\n    };\n  },\n  methods: {\n    async login() {\n      try {\n        const res = await axios.post(\"http://192.168.1.33:8080/sekolah/login\", {\n          username: this.username,\n          password: this.password,\n        });\n        this.data = res.data;\n        localStorage.setItem(\"token\", this.data.accessToken);\n        await this.info(this.data.accessToken);\n        // this.$router.push(\"/jadwal\");\n        console.log(this.data);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async info(token) {\n      try {\n        const res = await axios.get(\"http://192.168.1.33:8080/sekolah/info\", {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        });\n        const role = res.data.authorities;\n        for (let i of role) {\n          console.log(i);\n          if (i.authority === \"ROLE_ADMIN\") {\n            this.$router.push(\"/admin\");\n          } else if (i.authority === \"ROLE_MURID\") {\n            this.$router.push(\"/student\");\n          }\n        }\n        console.log(token);\n        console.log(role);\n      } catch (error) {\n        console.log(error);\n        console.log(token);\n      }\n    },\n  },\n};\n</script>\n\n<style>\n.v-card--reveal {\n  bottom: 0;\n  opacity: 1 !important;\n  position: absolute;\n  width: 100%;\n}\n.v-margin-bottom {\n  margin-bottom: 20px;\n}\n.ma-2 {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n#lupa-password {\n  color: black;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 32px;\n}\n.hem {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 32px;\n}\n</style>"]}]}