{"remainingRequest":"/home/ikhsan/folder/sias_frontend/system/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ikhsan/folder/sias_frontend/system/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ikhsan/folder/sias_frontend/system/src/views/Home.vue","mtime":1613360127040},{"path":"/home/ikhsan/folder/sias_frontend/system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ikhsan/folder/sias_frontend/system/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ikhsan/folder/sias_frontend/system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ikhsan/folder/sias_frontend/system/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7Ci8vIGltcG9ydCBOYXZiYXJyIGZyb20gIi4uL2NvbXBvbmVudHMvTmF2YmFyci52dWUiCmV4cG9ydCBkZWZhdWx0IHsKICAvLyBjb21wb25lbnRzOnsKICAvLyAgIC8vIE5hdmJhcnIKICAvLyB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VybmFtZTogIiIsCiAgICAgIGRhdGE6ICIiLAogICAgICBzaG93MTogZmFsc2UsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgcnVsZXM6IHsKICAgICAgICByZXF1aXJlZDogKHZhbHVlKSA9PiAhIXZhbHVlIHx8ICJSZXF1aXJlZC4iLAogICAgICB9LAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGxvZ2luKCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLnBvc3QoImh0dHA6Ly8xOTIuMTY4LjEuMzM6ODA4MC9zZWtvbGFoL2xvZ2luIiwgewogICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwKICAgICAgICB9KTsKICAgICAgICB0aGlzLmRhdGEgPSByZXMuZGF0YTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidG9rZW4iLCB0aGlzLmRhdGEuYWNjZXNzVG9rZW4pOwogICAgICAgIGF3YWl0IHRoaXMuaW5mbyh0aGlzLmRhdGEuYWNjZXNzVG9rZW4pOwogICAgICAgIC8vIHRoaXMuJHJvdXRlci5wdXNoKCIvamFkd2FsIik7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5kYXRhKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBpbmZvKHRva2VuKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MuZ2V0KCJodHRwOi8vMTkyLjE2OC4xLjMzOjgwODAvc2Vrb2xhaC9pbmZvIiwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCwKICAgICAgICAgIH0sCiAgICAgICAgfSk7CiAgICAgICAgY29uc3Qgcm9sZSA9IHJlcy5kYXRhLmF1dGhvcml0aWVzOwogICAgICAgIGZvciAobGV0IGkgb2Ygcm9sZSkgewogICAgICAgICAgY29uc29sZS5sb2coaSk7CiAgICAgICAgICBpZiAoaS5hdXRob3JpdHkgPT09ICJST0xFX0FETUlOIikgewogICAgICAgICAgICBhbGVydCgnTG9naW4gYWRtaW4gc3VjY2VzcyEnKQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3Byb2ZpbGFkbWluIik7CiAgICAgICAgICB9IGVsc2UgaWYgKGkuYXV0aG9yaXR5ID09PSAiUk9MRV9NVVJJRCIpIHsKICAgICAgICAgICAgYWxlcnQoJ0xvZ2luIHNpc3dhIHN1Y2Nlc3MhJykKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9wcm9maWxtdXJpZCIpOwogICAgICAgICAgfSBlbHNlIGlmIChpLmF1dGhvcml0eSA9PT0gIlJPTEVfR1VSVSIpIHsKICAgICAgICAgICAgYWxlcnQoJ0xvZ2luIGd1cnUgYmVyaGFzaWwnKQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2d1cnUiKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgY29uc29sZS5sb2codG9rZW4pOwogICAgICAgIGNvbnNvbGUubG9nKHJvbGUpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICBjb25zb2xlLmxvZyh0b2tlbik7CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-app>\n    <v-container>\n      <v-row justify=\"center\">\n        <v-layout style=\"margin-top: 50px\">\n          <v-flex>\n            <v-card max-width=\"400\" :elevation=\"6\" class=\"mx-auto my-12\">\n              <v-col md=\"12\">\n                <v-card-title class=\"justify-center\">\n                  <p>Sistem Academy Sekolah</p>\n                </v-card-title>\n                <v-row justify=\"center\">\n                  <v-col md=\"12\">\n                    <v-text-field\n                      label=\"NIS/NIK\"\n                      single-line\n                      outlined\n                      v-model=\"username\"\n                    ></v-text-field>\n                    <v-text-field\n                      label=\"Password\"\n                      v-model=\"password\"\n                      :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\"\n                      :type=\"show1 ? 'text' : 'password'\"\n                      single-line\n                      outlined\n                      @click:append=\"show1 = !show1\"\n                    ></v-text-field>\n                  </v-col>\n                </v-row>\n                <v-col>\n                  <v-btn\n                    rounded\n                    elevation=\"2\"\n                    color=\"#54a9f6\"\n                    class=\"ma-2 white--text\"\n                    block\n                    @click=\"login\"\n                    >login</v-btn\n                  >\n                  <!-- <p class=\"hem\">ATAU</p>\n                <h3 id=\"lupa-password\">\n                  <a href=\"/google\" style=\"text-decoration: none\"\n                    >Masuk Dengan Google</a>\n                  </h3>-->\n                  <h4 id=\"lupa-password\">\n                    <a href=\"/lupapassword\" style=\"text-decoration: none\"\n                      >Lupa Password?</a\n                    >\n                  </h4>\n                </v-col>\n              </v-col>\n            </v-card>\n          </v-flex>\n        </v-layout>\n      </v-row>\n    </v-container>\n  </v-app>\n</template>\n\n\n<script>\nimport axios from \"axios\";\n// import Navbarr from \"../components/Navbarr.vue\"\nexport default {\n  // components:{\n  //   // Navbarr\n  // },\n  data() {\n    return {\n      username: \"\",\n      data: \"\",\n      show1: false,\n      password: \"\",\n      rules: {\n        required: (value) => !!value || \"Required.\",\n      },\n    };\n  },\n  methods: {\n    async login() {\n      try {\n        const res = await axios.post(\"http://192.168.1.33:8080/sekolah/login\", {\n          username: this.username,\n          password: this.password,\n        });\n        this.data = res.data;\n        localStorage.setItem(\"token\", this.data.accessToken);\n        await this.info(this.data.accessToken);\n        // this.$router.push(\"/jadwal\");\n        console.log(this.data);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async info(token) {\n      try {\n        const res = await axios.get(\"http://192.168.1.33:8080/sekolah/info\", {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        });\n        const role = res.data.authorities;\n        for (let i of role) {\n          console.log(i);\n          if (i.authority === \"ROLE_ADMIN\") {\n            alert('Login admin success!')\n            this.$router.push(\"/profiladmin\");\n          } else if (i.authority === \"ROLE_MURID\") {\n            alert('Login siswa success!')\n            this.$router.push(\"/profilmurid\");\n          } else if (i.authority === \"ROLE_GURU\") {\n            alert('Login guru berhasil')\n            this.$router.push(\"/guru\");\n          }\n        }\n        console.log(token);\n        console.log(role);\n      } catch (error) {\n        console.log(error);\n        console.log(token);\n      }\n    },\n  },\n};\n</script>\n\n<style>\n.v-card--reveal {\n  bottom: 0;\n  opacity: 1 !important;\n  position: absolute;\n  width: 100%;\n}\n.v-margin-bottom {\n  margin-bottom: 20px;\n}\n.ma-2 {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n#lupa-password {\n  color: black;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 32px;\n}\n.hem {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 32px;\n}\n</style>"]}]}